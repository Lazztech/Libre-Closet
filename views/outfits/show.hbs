{{>navbar}}

<main class="p-4 pt-20 pb-24 max-w-lg mx-auto">
  <div class="flex items-center gap-3 mb-6">
    <a href="/outfits" class="btn btn-ghost btn-sm btn-circle">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4">
        <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
      </svg>
    </a>
    <h1 class="text-2xl font-bold flex-1">{{outfit.name}}</h1>
    <a href="/outfits/{{outfit.id}}/edit" class="btn btn-ghost btn-sm">{{t 'lang.EDIT'}}</a>
  </div>

  {{#if outfit.notes}}
  <p class="text-base-content/60 text-sm mb-6 px-1">{{outfit.notes}}</p>
  {{/if}}

  {{!-- Garments grid --}}
  <h2 class="font-semibold mb-3">{{t 'lang.GARMENTS_IN_OUTFIT'}}</h2>
  {{#if outfit.garments.length}}
  <div class="flex flex-wrap gap-3 mb-8">
    {{#each outfit.garments}}
    <a href="/wardrobe/{{this.id}}" class="flex flex-col items-center gap-1 w-24">
      {{#if this.photo}}
      <img src="/file/{{this.photo.fileName}}" alt="{{this.name}}" class="size-20 rounded-box object-cover shadow-sm" />
      {{else}}
      <div class="size-20 rounded-box bg-base-200 flex items-center justify-center">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-8 text-base-content/30">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 3.75H6.912a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H15M2.25 13.5h3.86a2.251 2.251 0 0 1 2.012 1.244l.256.512a2.251 2.251 0 0 0 2.013 1.244h3.218a2.251 2.251 0 0 0 2.013-1.244l.256-.512a2.251 2.251 0 0 1 2.013-1.244h3.859M12 3v8.25m0 0-3-3m3 3 3-3" />
        </svg>
      </div>
      {{/if}}
      <span class="text-xs text-center line-clamp-2 leading-tight">{{this.name}}</span>
    </a>
    {{/each}}
  </div>
  {{else}}
  <p class="text-base-content/40 text-sm italic mb-8">No garments added yet.</p>
  {{/if}}

  {{!-- Actions --}}
  <div class="divider"></div>
  <div class="flex gap-3 justify-between items-center">
    <button
      onclick="navigator.clipboard.writeText('{{siteUrl}}/share?shareableId={{outfit.shareableId}}&type=outfit'); alert('{{t 'lang.COPIED'}}')"
      class="btn btn-outline btn-sm"
    >
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4">
        <path stroke-linecap="round" stroke-linejoin="round" d="M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.935-2.185 2.25 2.25 0 0 0-3.935 2.185Z" />
      </svg>
      {{t 'lang.SHARE'}}
    </button>

    <button
      hx-delete="/outfits/{{outfit.id}}"
      hx-confirm="{{t 'lang.CONFIRM_DELETE'}}"
      class="btn btn-error btn-sm btn-outline"
    >
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4">
        <path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" />
      </svg>
      {{t 'lang.DELETE'}}
    </button>
  </div>
</main>

{{>dock}}
